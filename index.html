<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedPredict AI - Predictive Models for Healthcare</title>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
     Theme Toggle 
    <input type="checkbox" id="theme-toggle" class="theme-toggle">
    
     Navigation 
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-plus">+</span>
                <span class="logo-text">MedPredict</span>
                <span class="logo-ai">AI</span>
            </div>

            
            <div class="nav-menu">
                <a href="#home" class="nav-link active">Home</a>
                
                <a href="#footer" class="nav-link">About</a> <!-- ‚úÖ Updated -->
            </div>
            
            <label for="theme-toggle" class="theme-switch">
                <span class="theme-icon">üåô</span>
                <span class="theme-icon">‚òÄÔ∏è</span>
            </label>
            
            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="nav-menu-mobile">
            <a href="#home" class="nav-link active">Home</a>
            
            <a href="#footer" class="nav-link">About</a> <!-- ‚úÖ Updated -->
        </div>
    </nav>

     Hero Section 
    <section id="home" class="hero">
        <div class="hero-background">
            <div class="floating-particles"></div>
            <div class="medical-icons"></div>
        </div>
        
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="title-line">Revolutionizing Healthcare</span>
                <span class="title-line">with AI Predictions</span>
            </h1>
            <p class="hero-subtitle">Advanced predictive models for medicine stock optimization and rural healthcare accessibility</p>
            <div class="hero-buttons">
                
            </div>
        </div>
        
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">99.7%</span>
                <span class="stat-label">Accuracy</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">2.5M+</span>
                <span class="stat-label">Predictions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">500+</span>
                    <span class="stat-label">Hospitals</span>
                </div>
            </div>
        </section>

    </section>

    <!-- Season Report App -->
    <section id="season-report" class="season-report-section">
        <div class="container" id="season-screen">
            <h1>Choose a Season</h1>
            <div class="grid">
                <button class="season-btn">Monsoon</button>
                <button class="season-btn">Spring</button>
                <button class="season-btn">Autumn</button>
                <button class="season-btn">Winter</button>
                <button class="season-btn">Summer</button>
            </div>
            <p>Select a season to generate a predictive stock report.</p>
            <button class="report-btn">Read Report</button>
        </div>

        <div class="container" id="report-container" style="display: none;">
            <h1 id="report-title"></h1>
            <div id="loader" style="display: none; text-align: center; margin: 20px;">
                <div class="spinner"></div>
                <p>Loading report...</p>
            </div>
            <div class="chart-container">
                <div class="chart-wrapper">
                    <canvas id="demand-pie-chart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <canvas id="demand-bar-chart"></canvas>
                </div>
            </div>
            <table id="report-table">
                <thead>
                    <tr>
                        <th>Medicine</th>
                        <th>Predicted Demand</th>
                        <th>Stock Remaining</th>
                        <th>Reorder Quantity</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <button id="back-to-seasons" class="report-btn" style="margin-top: 2rem;">Back to Seasons</button>
        </div>
    </section>

    <!-- Medicine Stocks Section -->
    <section id="medicine-stocks" class="section alt-bg">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Medicine Stock Optimization</h2>
                <p class="section-subtitle">Our AI analyzes historical data, seasonal trends, and local health patterns to predict future medicine demand, preventing stockouts and reducing waste.</p>
            </div>
            <!-- Content for this section can be added here -->
        </div>
    </section>

    <!-- Rural Areas Section -->
    <section id="rural-areas" class="section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Improving Rural Healthcare</h2>
                <p class="section-subtitle">We focus on ensuring that essential medicines are always available in remote and underserved rural clinics, bridging the healthcare gap.</p>
            </div>
            <!-- Content for this section can be added here -->
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="section alt-bg">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Advanced Analytics</h2>
                <p class="section-subtitle">Gain deep insights from interactive dashboards and detailed reports. Understand demand patterns, stock levels, and reorder requirements at a glance.</p>
            </div>
            <!-- Content for this section can be added here -->
        </div>
    </section>


     Footer 
    <footer class="footer" id="footer"> <!-- ‚úÖ Added ID -->
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-text">MedPredict</span>
                    <span class="logo-ai">AI</span>
                    <p>Revolutionizing healthcare with predictive intelligence</p>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>Product</h4>
                        <a href="#medicine-stocks">Medicine Stocks</a>
                        <a href="#rural-areas">Rural Areas</a>
                        <a href="#analytics">Analytics</a>
                    </div>
                    
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MedPredict AI. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script>
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const mobileMenu = document.querySelector('.nav-menu-mobile');

        mobileMenuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('active');
        });

        const particlesContainer = document.querySelector('.floating-particles');
        const hero = document.querySelector('.hero');

        hero.addEventListener('mousemove', (e) => {
            const particle = document.createElement('div');
            particle.className = 'particle';
            const x = e.clientX;
            const y = e.clientY;
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particlesContainer.appendChild(particle);

            setTimeout(() => {
                particle.remove();
            }, 1000);
        });
        
    </script>
    <script>
        const seasonButtons = document.querySelectorAll('.season-btn');
        const reportButton = document.querySelector('.report-btn');
        const reportContainer = document.getElementById('report-container');
        const reportTitle = document.getElementById('report-title');
        const reportTableBody = document.querySelector('#report-table tbody');
        const loader = document.getElementById('loader');
        const backButton = document.getElementById('back-to-seasons');
        let selectedSeason = '';

        seasonButtons.forEach(button => {
            button.addEventListener('click', () => {
                selectedSeason = button.textContent;
                seasonButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
            });
        });

        backButton.addEventListener('click', () => {
            document.getElementById('report-container').style.display = 'none';
            document.getElementById('season-screen').style.display = 'block';
        })

        reportButton.addEventListener('click', () => {
            if (selectedSeason) {
                loader.style.display = 'block';
                fetch(`/report?season=${selectedSeason}`)
                    .then(response => response.json())
                    .then(data => {
                        loader.style.display = 'none';
                        reportTitle.textContent = `Medicine Report for ${selectedSeason}`;
                        reportTableBody.innerHTML = '';
                        if (data.report && data.report.length > 0) {
                            data.report.forEach(item => {
                                const row = document.createElement('tr');
                                row.innerHTML = `
                                    <td>${item.Medicine}</td>
                                    <td>${item.Predicted_Demand}</td>
                                    <td>${item.Stock_Remaining}</td>
                                    <td>${item.Reorder_Quantity}</td>
                                `;
                                reportTableBody.appendChild(row);
                            });
                            renderCharts(data.chart_data, data.report);
                        } else {
                            const row = document.createElement('tr');
                            row.innerHTML = '<td colspan="4">No medicines require reordering for this season.</td>';
                            reportTableBody.appendChild(row);
                        }
                        document.getElementById('season-screen').style.display = 'none';
                        reportContainer.style.display = 'block';
                    })
                    .catch(error => {
                        loader.style.display = 'none';
                        alert('Error fetching report: ' + error.message);
                    });
            } else {
                alert('Please select a season.');
            }
        });

        let pieChartInstance = null;
        let barChartInstance = null;

        function renderCharts(pieChartData, barChartData) {
            if (pieChartInstance) pieChartInstance.destroy();
            if (barChartInstance) barChartInstance.destroy();

            const chartTextColor = getComputedStyle(document.documentElement).getPropertyValue('--chart-text-color').trim();
            Chart.defaults.color = chartTextColor;

            const pieCtx = document.getElementById('demand-pie-chart').getContext('2d');
            pieChartInstance = new Chart(pieCtx, {
                type: 'doughnut', // Doughnut is often more readable than pie
                data: {
                    labels: pieChartData.labels,
                    datasets: [{
                        label: 'Predicted Demand',
                        data: pieChartData.data,
                        backgroundColor: [ // More vibrant colors
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                            'rgba(255, 159, 64, 0.6)'
                        ],
                        borderColor: [
                            '#fff'
                        ],
                        borderWidth: 2,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: chartTextColor
                            }
                        },
                        title: {
                            display: true,
                            text: 'Predicted Demand Distribution',
                            color: chartTextColor,
                            font: { size: 16 }
                        }
                    }
                }
            });

            const barCtx = document.getElementById('demand-bar-chart').getContext('2d');
            barChartInstance = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: barChartData.map(item => item.Medicine),
                    datasets: [
                        {
                            label: 'Predicted Demand',
                            data: barChartData.map(item => item.Predicted_Demand),
                            backgroundColor: 'rgba(255, 99, 132, 0.6)',
                            borderColor: 'rgba(255, 99, 132, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Stock Remaining',
                            data: barChartData.map(item => item.Stock_Remaining),
                            backgroundColor: 'rgba(54, 162, 235, 0.6)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Reorder Quantity',
                            data: barChartData.map(item => item.Reorder_Quantity),
                            backgroundColor: 'rgba(255, 206, 86, 0.6)',
                            borderColor: 'rgba(255, 206, 86, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: chartTextColor
                            }
                        },
                        title: {
                            display: true,
                            text: 'Demand vs. Stock',
                            color: chartTextColor,
                            font: { size: 16 }
                        }
                    },
                    scales: {
                        x: {
                            barPercentage: 0.8,
                            categoryPercentage: 0.6
                        },
                        y: {
                            grid: { color: 'rgba(128, 128, 128, 0.2)' },
                            beginAtZero: true
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
